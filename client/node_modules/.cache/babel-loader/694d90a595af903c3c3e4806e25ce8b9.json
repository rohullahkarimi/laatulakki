{"ast":null,"code":"var _jsxFileName = \"/Users/rohullahkarimi/Local/laatuLakki_main/client/src/components/cart/ReviewCart.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport '../../common/css/style.css';\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport { useForm } from 'react-hook-form';\nimport styled from \"styled-components\";\nimport { smartPhone } from \"../../responsive\";\nimport { useTranslation } from 'react-i18next';\nimport i18n from \"i18next\";\nimport CartProduct from './CartProduct';\nimport DeliveryTermsModal from \"../DeliveryTermsModal\";\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CustomerDetails = styled.div`\n  display: flex;\n  margin-bottom: 5%;\n  ${smartPhone({\n  flexDirection: \"column\"\n})}\n`;\n_c = CustomerDetails;\nconst BillingAddress = styled.div`\n  flex: 1;\n  padding: 0 10px 0 0;\n  ${smartPhone({\n  marginBottom: \"20px\"\n})}\n`;\n_c2 = BillingAddress;\nconst DeliveryAddress = styled.div`\n  flex: 1;\n  padding: 0 10px 0 0;\n`;\n_c3 = DeliveryAddress;\nconst DetailsInfo = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n_c4 = DetailsInfo;\nconst Key = styled.div`\n  flex: 1;\n  font-weight: 550;\n`;\n_c5 = Key;\nconst Value = styled.div`\n  flex: 1;\n  padding-left: 10px;\n`;\n_c6 = Value;\nconst Hr = styled.hr`\n  background-color: #b0b0b0;\n  border: none;\n  height: 1px;\n`;\n_c7 = Hr;\nconst TermsOfDelivery = styled.span`\n color: blue;\n  margin-left: 4px;\n  font-size: 18px !important;\n`;\n_c8 = TermsOfDelivery;\nconst H4 = styled.h4`\n`;\n_c9 = H4;\nconst CommentContainer = styled.div`\n  display: flex;\n`;\n_c10 = CommentContainer;\nconst Comment = styled.div`\n  flex: 1;\n`;\n_c11 = Comment;\nconst ReviewForm = () => {\n  _s();\n  var _handlePaymentErrors$;\n  const {\n    t\n  } = useTranslation();\n  const cart = useSelector(state => state.cart);\n  const [isLoading, setLoading] = useState(false);\n  var orderId = null;\n  var transactionId = null;\n  const selectedLang = i18n.language;\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors: handlePaymentErrors\n    }\n  } = useForm();\n  const [modalShow, setModalShow] = useState(false);\n  console.log(handlePaymentErrors);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const handleTermsOfDelivery = event => {\n    event.stopPropagation();\n    event.preventDefault();\n    //goTo(\"/terms_of_delivery\")\n    setModalShow(true);\n  };\n  const BillingAddressComponent = data => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DetailsInfo, {\n      children: [/*#__PURE__*/_jsxDEV(Key, {\n        children: t(\"firstname\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Value, {\n        children: data.firstname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n      children: [/*#__PURE__*/_jsxDEV(Key, {\n        children: t(\"lastname\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Value, {\n        children: data.lastname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n      children: [/*#__PURE__*/_jsxDEV(Key, {\n        children: t(\"phonenumber\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Value, {\n        children: data.phonenumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n      children: [/*#__PURE__*/_jsxDEV(Key, {\n        children: t(\"email\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Value, {\n        children: data.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  const DeliveryAddressComponent = props => {\n    console.log(props);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [props.deliverySameAsBilling !== true && /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"firstname\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 61\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.firstname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 88\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 48\n      }, this), props.deliverySameAsBilling !== true && /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"lastname\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 61\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.lastname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 87\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 48\n      }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"streetAddress\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.streetAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"postalCode\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.postalCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"city\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"country\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }, this), props.deliverySameAsBilling !== true && /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"phonenumber\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 61\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.phonenumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 90\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 48\n      }, this), props.deliverySameAsBilling !== true && /*#__PURE__*/_jsxDEV(DetailsInfo, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: t(\"email\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 61\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: props.data.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 84\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 48\n      }, this)]\n    }, void 0, true);\n  };\n  const axiosInstance = axios.create({\n    baseURL: process.env.REACT_APP_API_URL //process.env.REACT_APP_API_URL,\n  });\n\n  console.log(cart);\n  const saveOrder = async () => {\n    setLoading(true);\n\n    // disable pay button\n    $(\"#payButton\").prop(\"disabled\", true);\n    try {\n      await axiosInstance.post(\"/orders\", {\n        cart: cart,\n        language: selectedLang.toUpperCase()\n      }).then(res => {\n        console.log(res);\n        orderId = res.data._id;\n      });\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n      console.log(error.config);\n    }\n  };\n  const getTransactionId = async () => {\n    if (!orderId) {\n      console.log(\"Order id is not defined yet.\");\n      return;\n    }\n    try {\n      await axiosInstance.get(\"/orders/find/transactionId/\" + orderId).then(res => {\n        console.log(res);\n        transactionId = res.data;\n      });\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n      console.log(error.config);\n    }\n  };\n  const HandlePayment = async data => {\n    console.log(data);\n    await saveOrder();\n    if (orderId) {\n      setTimeout(() => {\n        getTransactionId();\n        console.log(orderId, transactionId);\n\n        // redirect to paytrail page\n\n        setTimeout(() => {\n          if (transactionId) {\n            setLoading(false);\n\n            // enable pay button\n            $(\"#payButton\").prop(\"disabled\", false);\n            const url = \"https://pay.paytrail.com/pay/\" + transactionId;\n            window.location.href = url;\n          } else {\n            console.log(\"Data is saving...\");\n          }\n        }, 3000); // 3000\n      }, 2000); // 2000\n    }\n  };\n\n  const spinnerStyle = {\n    margin: \"auto\"\n  };\n  console.log(cart);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(CustomerDetails, {\n      children: [/*#__PURE__*/_jsxDEV(BillingAddress, {\n        children: [/*#__PURE__*/_jsxDEV(H4, {\n          children: t(\"ordererInfo\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BillingAddressComponent, {\n          ...cart.billingAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DeliveryAddress, {\n        children: [/*#__PURE__*/_jsxDEV(H4, {\n          children: t(\"deliveryAddress\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DeliveryAddressComponent, {\n          data: cart.deliverySameAsBilling ? cart.billingAddress : cart.deliveryAddress,\n          deliverySameAsBilling: cart.deliverySameAsBilling\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CommentContainer, {\n      children: /*#__PURE__*/_jsxDEV(Comment, {\n        children: /*#__PURE__*/_jsxDEV(DetailsInfo, {\n          children: [cart.message && /*#__PURE__*/_jsxDEV(Key, {\n            children: t(\"order_extra_info\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 30\n          }, this), cart.message && /*#__PURE__*/_jsxDEV(Value, {\n            children: cart.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Hr, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CartProduct, {\n      page: \"review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Hr, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"handlePaymentForm\",\n      name: \"handlePaymentForm\",\n      onSubmit: handleSubmit(HandlePayment),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputwrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          className: \"checkbox-input checkbox-larger\",\n          id: \"termsOfDelivery\",\n          name: \"termsOfDelivery\",\n          ...register(\"termsOfDelivery\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"termsOfDelivery\",\n            className: \"checkbox-label checkbox-label-larger\",\n            children: [t(\"haveAlreadyRead\"), /*#__PURE__*/_jsxDEV(TermsOfDelivery, {\n              target: \"_blank\",\n              onClick: handleTermsOfDelivery,\n              children: [t(\"deliveryterms\"), \". *\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"customerInformation_termsOfDelivery\",\n          className: \"input-info invalid\",\n          role: \"alert\",\n          children: handlePaymentErrors.termsOfDelivery && ((_handlePaymentErrors$ = handlePaymentErrors.termsOfDelivery) === null || _handlePaymentErrors$ === void 0 ? void 0 : _handlePaymentErrors$.type) === \"required\" && t(\"youHaveToConfirm\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ClipLoader, {\n        cssOverride: spinnerStyle,\n        size: 40\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 27\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(DeliveryTermsModal, {\n      show: modalShow,\n      onHide: () => setModalShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewForm, \"pDW52PlzvkmHHdh1YqxA1B2RTbM=\", false, function () {\n  return [useTranslation, useSelector, useForm];\n});\n_c12 = ReviewForm;\nexport default ReviewForm;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n$RefreshReg$(_c, \"CustomerDetails\");\n$RefreshReg$(_c2, \"BillingAddress\");\n$RefreshReg$(_c3, \"DeliveryAddress\");\n$RefreshReg$(_c4, \"DetailsInfo\");\n$RefreshReg$(_c5, \"Key\");\n$RefreshReg$(_c6, \"Value\");\n$RefreshReg$(_c7, \"Hr\");\n$RefreshReg$(_c8, \"TermsOfDelivery\");\n$RefreshReg$(_c9, \"H4\");\n$RefreshReg$(_c10, \"CommentContainer\");\n$RefreshReg$(_c11, \"Comment\");\n$RefreshReg$(_c12, \"ReviewForm\");","map":{"version":3,"names":["useEffect","useState","useSelector","axios","ClipLoader","useForm","styled","smartPhone","useTranslation","i18n","CartProduct","DeliveryTermsModal","$","jsxDEV","_jsxDEV","Fragment","_Fragment","CustomerDetails","div","flexDirection","_c","BillingAddress","marginBottom","_c2","DeliveryAddress","_c3","DetailsInfo","_c4","Key","_c5","Value","_c6","Hr","hr","_c7","TermsOfDelivery","span","_c8","H4","h4","_c9","CommentContainer","_c10","Comment","_c11","ReviewForm","_s","_handlePaymentErrors$","t","cart","state","isLoading","setLoading","orderId","transactionId","selectedLang","language","register","handleSubmit","formState","errors","handlePaymentErrors","modalShow","setModalShow","console","log","window","scrollTo","handleTermsOfDelivery","event","stopPropagation","preventDefault","BillingAddressComponent","data","children","fileName","_jsxFileName","lineNumber","columnNumber","firstname","lastname","phonenumber","email","DeliveryAddressComponent","props","deliverySameAsBilling","streetAddress","postalCode","city","country","axiosInstance","create","baseURL","process","env","REACT_APP_API_URL","saveOrder","prop","post","toUpperCase","then","res","_id","error","response","status","headers","request","message","config","getTransactionId","get","HandlePayment","setTimeout","url","location","href","spinnerStyle","margin","className","billingAddress","deliveryAddress","page","id","name","onSubmit","type","required","htmlFor","target","onClick","role","termsOfDelivery","cssOverride","size","show","onHide","_c12","$RefreshReg$"],"sources":["/Users/rohullahkarimi/Local/laatuLakki_main/client/src/components/cart/ReviewCart.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport '../../common/css/style.css';\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport { useForm } from 'react-hook-form';\nimport styled from \"styled-components\";\nimport { smartPhone } from \"../../responsive\";\nimport { useTranslation } from 'react-i18next';\nimport i18n from \"i18next\";\nimport CartProduct from './CartProduct';\nimport DeliveryTermsModal from \"../DeliveryTermsModal\"\nimport $ from 'jquery';\n\nconst CustomerDetails = styled.div`\n  display: flex;\n  margin-bottom: 5%;\n  ${smartPhone({ flexDirection: \"column\" })}\n`;\nconst BillingAddress = styled.div`\n  flex: 1;\n  padding: 0 10px 0 0;\n  ${smartPhone({ marginBottom: \"20px\" })}\n`;\nconst DeliveryAddress = styled.div`\n  flex: 1;\n  padding: 0 10px 0 0;\n`;\n\nconst DetailsInfo = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\nconst Key = styled.div`\n  flex: 1;\n  font-weight: 550;\n`;\nconst Value = styled.div`\n  flex: 1;\n  padding-left: 10px;\n`;\n\nconst Hr = styled.hr`\n  background-color: #b0b0b0;\n  border: none;\n  height: 1px;\n`;\n\nconst TermsOfDelivery = styled.span`\n color: blue;\n  margin-left: 4px;\n  font-size: 18px !important;\n`;\n\nconst H4 = styled.h4`\n`;\n\nconst CommentContainer = styled.div`\n  display: flex;\n`;\n\nconst Comment = styled.div`\n  flex: 1;\n`;\n\n\n\n\n\nconst ReviewForm = () => {\n  const { t } = useTranslation();\n  const cart = useSelector((state) => state.cart);\n  const [isLoading, setLoading] = useState(false);\n  var orderId = null\n  var transactionId = null\n  const selectedLang = i18n.language\n  const { register, handleSubmit, formState: { errors: handlePaymentErrors } } = useForm();\n  const [modalShow, setModalShow] = useState(false);\n\n  console.log(handlePaymentErrors)\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [])\n\n  const handleTermsOfDelivery = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    //goTo(\"/terms_of_delivery\")\n    setModalShow(true)\n  }\n\n  const BillingAddressComponent = (data) => (\n    <>\n      <DetailsInfo>\n        <Key>{t(\"firstname\")}</Key>\n        <Value>{data.firstname}</Value>\n      </DetailsInfo>\n      <DetailsInfo>\n        <Key>{t(\"lastname\")}</Key>\n        <Value>{data.lastname}</Value>\n      </DetailsInfo>\n      <DetailsInfo>\n        <Key>{t(\"phonenumber\")}</Key>\n        <Value>{data.phonenumber}</Value>\n      </DetailsInfo>\n      <DetailsInfo>\n        <Key>{t(\"email\")}</Key>\n        <Value>{data.email}</Value>\n      </DetailsInfo>\n    </>\n  );\n\n  const DeliveryAddressComponent = (props) => {\n    console.log(props)\n    return (\n      <>\n      {props.deliverySameAsBilling !== true && <DetailsInfo><Key>{t(\"firstname\")}</Key><Value>{props.data.firstname}</Value></DetailsInfo>}\n      {props.deliverySameAsBilling !== true && <DetailsInfo><Key>{t(\"lastname\")}</Key><Value>{props.data.lastname}</Value></DetailsInfo>}\n      <DetailsInfo>\n        <Key>{t(\"streetAddress\")}</Key>\n        <Value>{props.data.streetAddress}</Value>\n      </DetailsInfo>\n      <DetailsInfo>\n        <Key>{t(\"postalCode\")}</Key>\n        <Value>{props.data.postalCode}</Value>\n      </DetailsInfo>\n      <DetailsInfo>\n        <Key>{t(\"city\")}</Key>\n        <Value>{props.data.city}</Value>\n      </DetailsInfo>\n      <DetailsInfo>\n        <Key>{t(\"country\")}</Key>\n        <Value>{props.data.country}</Value>\n      </DetailsInfo>\n      {props.deliverySameAsBilling !== true && <DetailsInfo><Key>{t(\"phonenumber\")}</Key><Value>{props.data.phonenumber}</Value></DetailsInfo>}\n      {props.deliverySameAsBilling !== true && <DetailsInfo><Key>{t(\"email\")}</Key><Value>{props.data.email}</Value></DetailsInfo>}\n    </>\n    )\n  };\n  \n  const axiosInstance = axios.create({\n    baseURL: process.env.REACT_APP_API_URL //process.env.REACT_APP_API_URL,\n  });\n\n\n  console.log(cart)\n\n  const saveOrder= async () => {\n    setLoading(true)\n\n    // disable pay button\n    $(\"#payButton\").prop(\"disabled\",true);\n\n\n    try {\n      await axiosInstance.post(\"/orders\",  {cart: cart, language: selectedLang.toUpperCase()})\n      .then((res) => {\n        console.log(res)\n        orderId = res.data._id\n      });\n    } catch(error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n      console.log(error.config);\n    }\n  };\n  \n  const getTransactionId = async () => {\n    if(!orderId){\n      console.log(\"Order id is not defined yet.\")\n      return \n    }\n    try {\n      await axiosInstance.get(\"/orders/find/transactionId/\"+orderId)\n      .then((res) => {\n        console.log(res)\n        transactionId = res.data\n      });\n    } catch(error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n      console.log(error.config);\n    }\n  }\n  \n\n \n\n  const HandlePayment = async (data) => {\n    console.log(data)\n    await saveOrder()\n    if(orderId){\n      setTimeout(() => {\n        getTransactionId()\n        console.log(orderId, transactionId)\n\n        // redirect to paytrail page\n        \n        setTimeout(() => {\n          if(transactionId){\n            setLoading(false)\n\n            // enable pay button\n            $(\"#payButton\").prop(\"disabled\",false);\n\n            const url = \"https://pay.paytrail.com/pay/\"+transactionId\n            window.location.href=url;\n          }else{\n            console.log(\"Data is saving...\")\n          }\n        }, 3000); // 3000\n      }, 2000); // 2000\n    }\n  }\n  \n  const spinnerStyle = {\n    margin: \"auto\"\n  };\n\n  console.log(cart)\n  \n  return (\n    <div className='container'>\n\n      <CustomerDetails>\n        <BillingAddress>\n          <H4>{t(\"ordererInfo\")}</H4>\n          <BillingAddressComponent {...cart.billingAddress} />\n        </BillingAddress>\n\n\n        <DeliveryAddress>\n          <H4>{t(\"deliveryAddress\")}</H4>\n          <DeliveryAddressComponent data={cart.deliverySameAsBilling ? cart.billingAddress : cart.deliveryAddress} deliverySameAsBilling={cart.deliverySameAsBilling} />\n        </DeliveryAddress>\n\n      </CustomerDetails>\n\n      <CommentContainer>\n        <Comment>\n          <DetailsInfo>\n            {cart.message && <Key>{t(\"order_extra_info\")}</Key>}\n            {cart.message && <Value>{cart.message}</Value>}\n          </DetailsInfo>\n        </Comment>\n      </CommentContainer>\n      <Hr/>\n\n    \n      <CartProduct page=\"review\"/>\n      \n      <Hr/>\n\n     \n      <form id=\"handlePaymentForm\" name=\"handlePaymentForm\" onSubmit={handleSubmit(HandlePayment)}>\n        <div className=\"inputwrapper\">\n          <input type=\"checkbox\" className=\"checkbox-input checkbox-larger\" id=\"termsOfDelivery\" name=\"termsOfDelivery\" \n          {...register(\"termsOfDelivery\",{ \n            required: true,\n          })}\n          />\n          <div>\n            <label htmlFor=\"termsOfDelivery\" className=\"checkbox-label checkbox-label-larger\">\n              {t(\"haveAlreadyRead\")} \n              <TermsOfDelivery target=\"_blank\" onClick={handleTermsOfDelivery}>{t(\"deliveryterms\")}. *</TermsOfDelivery>\n            </label>\n          </div>\n          \n          <span id=\"customerInformation_termsOfDelivery\" className='input-info invalid' role=\"alert\">\n            {handlePaymentErrors.termsOfDelivery && handlePaymentErrors.termsOfDelivery?.type === \"required\" && (\n              t(\"youHaveToConfirm\")\n            )}\n          </span>\n        </div>\n      </form>\n      {isLoading &&  <div><ClipLoader cssOverride={spinnerStyle}  size={40} /></div>}\n      <DeliveryTermsModal show={modalShow} onHide={() => setModalShow(false)} />\n    </div>\n  );\n};\n\nexport default ReviewForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}